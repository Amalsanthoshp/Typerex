<!DOCTYPE html>
<html>
<head>
<title>Typerex</title>
<link href="txtstyle.css" rel="stylesheet" type="text/css" />
<script type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
</script>
</script>
</script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

  <body>
  <div id ="head" class ="head">
  <h1 align="center" style="color:linear-gradient(to bottom, #000099 21%, #cc99ff 103%);"> Typerex </h1>

  </div>
  <br>
    <div id="list">
      <p1 id = "para">Merciful God! the Count has been to him, and there is some new scheme of terror afoot! Later.--I went after my round to Van Helsing and told him my suspicion. He grew very grave; and, after thinking the matter over for a while asked me to take him to Renfield. I did so. As we came to the door we heard the lunatic within singing gaily, as he used to do in the time which now seems so long ago.</p>

    </div>
    <br>
  <div id = "typing">
	 <form id = "myform">
    Type here:  <input id="my-text-box" type = "text" style="font-size: 15pt; height: 30px; width:500px; " disabled>     </input>
	 </form>
       <div id = "start">
         <button id="startClock" onclick="stbutton()"> Start </button><br><br>
          <span id="count">60</span> seconds remaining
	  <div id="messages" style="white-space:pre;"></div>
      <div id = "error"  style ="white-space;pre;"></div>
      <div id ="wpm" style ="white-space;pre;"></div>
      </div>
      </div>
      <div id="alert"style="display: none;">
        <h1 style="text-align:center">Completed!!</h1>
        <h2 id = "Wordsper"style="text-align:center">0</h2>
        <h3 style="text-align:center">Words per Minute</h3>
        <h4 style="text-align:center"><a href = "index.html">Try again.</h4></a>
        <br>
        <h4 style="text-align:center"><a href = "login.html">Go to main page.</h4></a>
      </div>


      <script>
	  window.onload = function() {
	  const myInput = document.getElementById('my-text-box');
      myInput.onpaste = function(e) {
      e.preventDefault();
            }
       }
      var text = "Merciful God! the Count has been to him, and there is some new scheme of terror afoot! Later.--I went after my round to Van Helsing and told him my suspicion. He grew very grave; and, after thinking the matter over for a while asked me to take him to Renfield. I did so. As we came to the door we heard the lunatic within singing gaily, as he used to do in the time which now seems so long ago."
      var input = document.querySelector('#my-text-box');

      var messages = document.querySelector('#messages');

      var error = document.querySelector('#error');

      var l = text.length;

      var wpm = document.querySelector('#wpm')

      var $para = $('#para');

      input.addEventListener('input', function() {
	       var i = 0;
	       var errors = 0;
	       var correct = 0;
		   var j=0;
		   var word = document.getElementById("para").innerHTML;
	        for(i=0;i<text.length;i++) {

		          if(input.value[i] == text[i]) {


                        correct +=1;
  		            messages.textContent =  correct+ '\n'+word[i];
	               }
	               else {

	                   error.textContent = l - correct +'\n';

	               }

	          }
            var finalwpm = correct/5;
	          wpm.textContent = correct/5;
            document.getElementById('Wordsper').innerHTML = finalwpm;


               });
               $("#startClock").click( function(){
                 var counter = 60;
                 setInterval(function() {
                   counter--;
                   if (counter >= 0) {
                     span = document.getElementById("count");
                     span.innerHTML = counter;


                   }
                   if (counter === 0) {
                  document.getElementById("my-text-box").disabled = true;
                  document.getElementById("alert").style.display = "block";
                  clearInterval(counter);
                }
              }, 1000);
            })
            function stbutton() {
              document.getElementById("my-text-box").disabled = false;
              document.getElementById("startClock").disabled = true;
            }

</script>
  </body>
</html>
